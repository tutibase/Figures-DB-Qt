# Figures-DB-Qt

Приложение написано на языке программирования С++ с использованием библиотеки Qt. Приложение позволяет добавлять на экран примитивы заданных размеров и форм (эллипсы, прямоугольники, треугольники) и задавать связи между этими элементами в виде линий.

## Функциональность приложения

Реализация графического интерфейса для работы с БД через Qt:
- Кнопка ```New``` добавляет случайную фигуру в БД и отрисовывает её в случайной точке представления
- Кнопка ```Delete``` удаляет выделенную фигуру из БД и представления. Если никакая фигура не выделена, то фигуры будут удаляться в порядке, обратном порядку создания
- Кнопка ```Connect``` предназначена для создания связи между двумя фигурами по их ID. ID фигур для связи вводятся в поля ```ID 1``` и ```ID 2```
- Кнопки ```Hide squares```, ```Hide ellipses``` и ```Hide triangles``` скрывают соответствующий вид фигур из представления и таблицы. Данные в БД при этом не изменяются
- Кнопка ```Hide ID 1``` скрывает отображение фигуры, ID которой записан в поле ```ID 1```
- Кнопка ```All Figures``` возвращает в отображение все скрытые фигуры
- В графическом представлении возможно выделять и перемещать фигуры. При перемещении фигуры она перемещается на передний план (поверх остальных фигур) и перекрашивается в зеленый. Если отпустить фигуру, то она снова станет красной, но останется выделенной.

| <img src="https://github.com/tutibase/Figures-DB-Qt/assets/44751053/8fdb0c42-5690-4858-802c-73c8ecc2d3b9" width="75%" height="75%" /> <img src="https://github.com/tutibase/Figures-DB-Qt/assets/44751053/05bbc5e7-3847-4659-b81b-344303180e7a" width="75%" height="75%" /> | 
|:--:| 
| *Отображение перемещаемых фигур (зеленые квадрат и треугольник)* |

| <img src="https://github.com/tutibase/Figures-DB-Qt/assets/44751053/fce0a12a-db83-4127-a159-6dea3354ed63" width="82%" height="82%" /> <img src="https://github.com/tutibase/Figures-DB-Qt/assets/44751053/6db4c27e-7121-406a-9b63-16e9b00fad4f" width="82%" height="82%" /> | 
|:--:| 
| *Отображение до и после скрытия треугольников* |

| ![image](https://github.com/tutibase/Figures-DB-Qt/assets/44751053/ed50409d-a52b-441c-94c7-80570da117a6) | 
|:--:| 
| *Та же БД, но с добавленной связью между фигурами с ID 8 и ID 11* |


## Отображение числа элементов фигур

Отображение числа фигур данного типа реализовано в виде делегата. Если число хранимых элементов от 1 до 3, то в ячейке таблицы рисуется один элемент фигуры (один прямоугольник/эллипс/треугольник). Если от 4 до 10 элементов, то в соответствующей ячейке рисуются две иконки фигуры. Если элементов больше, то в ячейке рисуются три фигурки выбранного типа.


## Используемые технологии

- Язык программирования: C++
- Библиотека GUI: Qt
- СУБД: SQLite
